{"version":3,"sources":["assets/images/logo.svg","context/auth.tsx","context/search.tsx","components/AppHeader/index.tsx","services/http.ts","components/Rating/Rating-Icon.tsx","components/Rating/index.tsx","components/MovieRating/index.tsx","pages/movie-list.tsx","pages/user-rated-movies.tsx","pages/home.tsx","pages/login.tsx","pages/sign-up.tsx","routes/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["authContext","createContext","authenticated","setAuthenticated","auth","searchInputContext","searchQuery","setSearchQuery","value","HeaderWrapper","styled","Header","AppHeader","props","useContext","history","useHistory","location","useLocation","URLSearchParams","search","useState","pathname","includes","authPage","console","log","handleAuthButton","path","window","localStorage","removeItem","push","handleSearch","length","debounce","gutter","align","span","className","href","src","Logo","alt","style","display","justifyContent","alignItems","placeholder","allowClear","defaultValue","onChange","e","target","textAlign","type","ghost","onClick","danger","CancelToken","axios","HttpService","getItem","url","query","params","source","undefined","xhr","method","headers","getHeader","cancelToken","token","then","res","data","cancelable","get","obj","catch","err","response","message","details","forEach","item","notification","error","placement","description","Promise","reject","RatingIcon","index","rating","hoverRating","onMouseEnter","onMouseLeave","onSaveRating","fill","React","useMemo","StarTwoTone","fontSize","color","twoToneColor","RatingWrapper","div","RatingComponent","setRating","setHoverRating","map","MovieRating","movieTitle","ourRequest","SpinWrapper","Spin","MovieListPage","loading","setLoading","setData","setStart","limit","setLimit","totalItems","settotalItems","end","setEnd","isModalVisible","setModalVisible","ratingModalData","setRatingModalData","bulkRating","setBulkRating","bulkRatingIds","setBulkRatingIds","loadMoreData","isInitialLoad","start","order","count","useEffect","cancel","dataLength","next","hasMore","loader","size","endMessage","plain","scrollableTarget","grid","xs","sm","md","lg","xl","width","margin","dataSource","renderItem","Item","padding","border","minHeight","id","checked","dataIndex","newBulkRating","newBulkRatingIds","user_rating","is_rated","movie_id","splice","setEnableBulkRatingButton","handleCheckBoxBulkRating","title","user_rating_id","height","poster","release_year","crew","crewItem","name","role","genres","genreItem","average_rating","movie","handleRatingModal","visible","closable","onOk","ratings","post","newData","i","onSaveBulkRating","onCancel","enableBulkRatingButton","ratingIndex","handleBulkRating","UserRatedMovies","TabPane","Tabs","HomePage","overflow","tabBarExtraContent","disabled","tab","CardWrapper","Card","Login","handleLogInMethod","setItem","JSON","stringify","user","layout","wrapperCol","onFinish","values","onFinishFailed","errorInfo","autoComplete","label","rules","required","Password","offset","shape","htmlType","block","SignUp","handleSignUpMethod","AppRoutes","component","exact","from","to","Content","Layout","MainContainer","Footer","App","accessToken","tokenValid","tempUser","parse","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c57add7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4131f6d2.svg\";","import { createContext } from \"react\";\r\n\r\nconst authContext = createContext({\r\n  authenticated: false,\r\n  setAuthenticated: (auth:boolean) => {}\r\n});\r\n\r\nexport default authContext;","import { createContext } from \"react\";\r\n\r\nconst searchInputContext = createContext({\r\n  searchQuery: \"\",\r\n  setSearchQuery: (value: string) => {},\r\n});\r\n\r\nexport default searchInputContext;\r\n","import { Button, Col, Menu, Row } from \"antd\";\r\nimport Search from \"antd/lib/input/Search\";\r\nimport { Header } from \"antd/lib/layout/layout\";\r\nimport Title from \"antd/lib/typography/Title\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { debounce } from \"debounce\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport Logo from \"./../../assets/images/logo.svg\";\r\nimport authContext from \"../../context/auth\";\r\nimport searchInputContext from \"../../context/search\";\r\nconst HeaderWrapper = styled(Header)`\r\n  position: fixed;\r\n  z-index: 1;\r\n  width: 100%;\r\n  .logo img {\r\n    float: left;\r\n    width: 100px;\r\n    height: 30px;\r\n    margin: 16px 24px 16px 0;\r\n  }\r\n`;\r\ninterface Props {\r\n  user: any;\r\n  tokenValid: string | null;\r\n}\r\nconst getSearchQuery = (search: string | null) => {\r\n  const params = new URLSearchParams(search ?? \"\");\r\n  return params.get(\"q\");\r\n};\r\n\r\nexport default function AppHeader(props: Props) {\r\n  const { authenticated } = useContext(authContext);\r\n  const { searchQuery, setSearchQuery } = useContext(searchInputContext);\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const params = new URLSearchParams(location.search);\r\n  // const [query, setQuery] = useState<string | null>(searchQuery);\r\n  const [authPage, setAuthPage] = useState(\r\n    location.pathname.includes(\"signup\") || location.pathname.includes(\"login\")\r\n  );\r\n  console.log(location, authPage, \"location\");\r\n  // setSearchQuery(getSearchQuery(location.search) ?? \"\");\r\n  const handleAuthButton = (path: string) => {\r\n    if (path === \"signout\") {\r\n      window.localStorage.removeItem(\"token\");\r\n      window.localStorage.removeItem(\"user\");\r\n      window.location.pathname = \"/login\";\r\n      // history.push(\"all\");\r\n    } else {\r\n      history.push(`${path}`);\r\n    }\r\n  };\r\n  let handleSearch = (value: string) => {\r\n    debugger;\r\n    const length = value.length;\r\n    if (length < 2) {\r\n      if (length === 0) {\r\n        setSearchQuery(\"\");\r\n        history.push(location.pathname);\r\n      }\r\n      return;\r\n    }\r\n    setSearchQuery(value);\r\n    // setQuery(value);\r\n    history.push({\r\n      pathname: location.pathname,\r\n      search: `q=${value}`,\r\n    });\r\n  };\r\n  handleSearch = debounce(handleSearch, 500);\r\n  return (\r\n    <HeaderWrapper>\r\n      <Row gutter={8} align=\"middle\">\r\n        <Col span={6}>\r\n          <div className=\"logo\">\r\n            <a href=\"/\">\r\n              <img src={Logo} alt=\"My Movie Rating\" />\r\n            </a>\r\n          </div>\r\n        </Col>\r\n        <Col span={10}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            {!authPage && (\r\n              <Search\r\n                placeholder=\"Please type atleast 2 characters to seach movie\"\r\n                allowClear\r\n                defaultValue={searchQuery ?? \"\"}\r\n                onChange={(e) => handleSearch(e.target.value)}\r\n                // onSearch={(value) => handleSearch(value)}\r\n              />\r\n            )}\r\n          </div>\r\n        </Col>\r\n        <Col span={8}>\r\n          <div style={{ textAlign: \"right\" }}>\r\n            {!authenticated && (\r\n              <>\r\n                {!location.pathname.includes(\"/signup\") && (\r\n                  <Button\r\n                    type=\"primary\"\r\n                    ghost\r\n                    onClick={() => handleAuthButton(\"signup\")}\r\n                  >\r\n                    Create Account\r\n                  </Button>\r\n                )}{\" \"}\r\n                &nbsp;\r\n                {!location.pathname.includes(\"/login\") && (\r\n                  <Button\r\n                    type=\"primary\"\r\n                    ghost\r\n                    onClick={() => handleAuthButton(\"login\")}\r\n                  >\r\n                    Log In\r\n                  </Button>\r\n                )}\r\n              </>\r\n            )}\r\n            {authenticated && (\r\n              <>\r\n                <Button\r\n                  type=\"primary\"\r\n                  ghost\r\n                  danger\r\n                  onClick={() => handleAuthButton(\"signout\")}\r\n                >\r\n                  Sign Out\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </HeaderWrapper>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { notification } from \"antd\";\r\nconst CancelToken = axios.CancelToken;\r\n\r\n// const baseURI =\r\n//   process.env.NODE_ENV === \"production\"\r\n//     ? \"http://localhost:9090\"\r\n//     : \"http://localhost:9090\";\r\n\r\nclass HttpService {\r\n  public static getHeader(): any {\r\n    return {\r\n      \"x-token\": window.localStorage.getItem(\"token\"),\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      \"Access-Control-Allow-Origin\": \"*\",\r\n    };\r\n  }\r\n\r\n  /**\r\n   * name\r\n   */\r\n  // public static getURL(): string {\r\n  //   return baseURI;\r\n  // }\r\n\r\n  public static get(\r\n    url: any,\r\n    query: any = \"\",\r\n    params: any = {},\r\n    source: any = undefined\r\n  ) {\r\n    const xhr = axios({\r\n      method: \"GET\",\r\n      url: `/api/${url}?${query}`,\r\n      params: params,\r\n      headers: HttpService.getHeader(),\r\n      cancelToken: source?.token || undefined,\r\n    }).then((res) => res.data);\r\n\r\n    return xhr;\r\n  }\r\n  public static getRequest(\r\n    url: any,\r\n    query: any = \"\",\r\n    params: any = {},\r\n    cancelable: boolean = false\r\n  ) {\r\n    const source = CancelToken.source();\r\n\r\n    return HttpService.get(url, query, params, cancelable ? source : undefined);\r\n  }\r\n\r\n  public static post(url: any, obj: object) {\r\n    return axios({\r\n      url: `/api/${url}`,\r\n      method: \"post\",\r\n      data: obj,\r\n      headers: HttpService.getHeader(),\r\n    })\r\n      .then((res) => res.data)\r\n      .catch((err) => {\r\n        if (\r\n          err?.response?.data?.type === \"Validation Error\" &&\r\n          err?.response?.data?.message?.details\r\n        ) {\r\n          err.response.data.message.details.forEach((item: any) => {\r\n            notification.error({\r\n              placement: \"bottomLeft\",\r\n              message: \"Validation Error\",\r\n              description: item.message,\r\n            });\r\n          });\r\n        }\r\n        return Promise.reject(err);\r\n      });\r\n  }\r\n}\r\n\r\nexport default HttpService;\r\n","import { StarTwoTone } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\n\r\nexport default function RatingIcon(props: any) {\r\n  const {\r\n    index,\r\n    rating,\r\n    hoverRating,\r\n    onMouseEnter,\r\n    onMouseLeave,\r\n    onSaveRating\r\n  } = props;\r\n  const fill = React.useMemo(() => {\r\n    if (hoverRating >= index) {\r\n      return \"#f0ca71\";\r\n    } else if (!hoverRating && rating >= index) {\r\n      return \"#f0ca71\";\r\n    }\r\n    return \"#ccc\";\r\n  }, [rating, hoverRating, index]);\r\n  return (\r\n    <div\r\n      className=\"cursor-pointer\"\r\n      onMouseEnter={() => onMouseEnter(index)}\r\n      onMouseLeave={() => onMouseLeave()}\r\n      onClick={() => onSaveRating(index)}\r\n    >\r\n      <StarTwoTone\r\n        style={{ fontSize: \"32px\", color: \"#ccc\" }}\r\n        twoToneColor={fill}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport RatingIcon from \"./Rating-Icon\";\r\n// import \"./styles.css\";\r\n\r\nconst RatingWrapper = styled.div`\r\n  width: 300px;\r\n  h1 {\r\n    font-size: 20px;\r\n    margin: 0 0 1rem 0;\r\n  }\r\n`;\r\ninterface RatingProps {\r\n  rating?: number;\r\n  onSaveRating: (rating: number) => void;\r\n}\r\nexport default function RatingComponent(props: RatingProps) {\r\n  const [rating, setRating] = React.useState(props.rating??0);\r\n  const [hoverRating, setHoverRating] = React.useState(0);\r\n  const onMouseEnter = (index: number) => {\r\n    setHoverRating(index);\r\n  };\r\n  const onMouseLeave = () => {\r\n    setHoverRating(0);\r\n  };\r\n  const onSaveRating = (rating: number) => {\r\n    setRating(rating);\r\n    props.onSaveRating(rating);\r\n    console.log(rating, \"rating\");\r\n  };\r\n  return (\r\n    <RatingWrapper className=\"flex\">\r\n      {[1, 2, 3, 4, 5].map((index) => {\r\n        return (\r\n          <RatingIcon\r\n            key={index}\r\n            index={index}\r\n            rating={rating}\r\n            hoverRating={hoverRating}\r\n            onMouseEnter={onMouseEnter}\r\n            onMouseLeave={onMouseLeave}\r\n            onSaveRating={onSaveRating}\r\n          />\r\n        );\r\n      })}\r\n    </RatingWrapper>\r\n  );\r\n}\r\n","import { Popover } from \"antd\";\r\nimport React from \"react\";\r\nimport RatingComponent from \"../Rating\";\r\n\r\ninterface Props {\r\n  // id: string;\r\n  rating?: number;\r\n  movieTitle: string;\r\n  onSaveRating: (rating: number) => void;\r\n  // children?: React.ReactNode;\r\n}\r\nexport default function MovieRating(props: Props) {\r\n  return (\r\n    <div>\r\n      <h3>{props.movieTitle}</h3>\r\n      <RatingComponent rating={props.rating} onSaveRating={props.onSaveRating} />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  List,\r\n  Divider,\r\n  Col,\r\n  Row,\r\n  Checkbox,\r\n  Tag,\r\n  notification,\r\n  Modal,\r\n  Tooltip,\r\n  Spin,\r\n} from \"antd\";\r\n\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { StarTwoTone } from \"@ant-design/icons\";\r\nimport HttpService from \"../services/http\";\r\nimport MovieRating from \"../components/MovieRating\";\r\nimport authContext from \"../context/auth\";\r\nimport styled from \"styled-components\";\r\nimport searchInputContext from \"../context/search\";\r\nimport axios from \"axios\";\r\nconst ourRequest = axios.CancelToken.source();\r\n\r\nconst RatingWrapper = styled.span`\r\n  &:hover {\r\n    cursor: pointer;\r\n    color: #ffc107;\r\n  }\r\n`;\r\n\r\nconst SpinWrapper = styled(Spin)`\r\n  display: block;\r\n  margin: 20px auto;\r\n  padding: 30px 50px;\r\n  text-align: center;\r\n`;\r\n\r\nexport default function MovieListPage(props: any) {\r\n  const { authenticated } = useContext(authContext);\r\n\r\n  const { searchQuery, setSearchQuery } = useContext(searchInputContext);\r\n  const [loading, setLoading] = useState<any>(false);\r\n  const [data, setData] = useState<any>([]);\r\n\r\n  const [start, setStart] = useState<number | null>(null);\r\n  const [limit, setLimit] = useState<number>(50);\r\n  const [totalItems, settotalItems] = useState<number>(0);\r\n  const [end, setEnd] = useState<number>(limit);\r\n  const [isModalVisible, setModalVisible] = useState(props.isModalVisible);\r\n\r\n  const [ratingModalData, setRatingModalData] = useState<any>(null);\r\n  const [bulkRating, setBulkRating] = useState<any>(undefined);\r\n  const [bulkRatingIds, setBulkRatingIds] = useState<any>(null);\r\n\r\n  const handleCheckBoxBulkRating = (\r\n    data: any,\r\n    dataIndex: number,\r\n    checked: boolean\r\n  ) => {\r\n    const newBulkRating = bulkRating ?? [];\r\n    const newBulkRatingIds = bulkRatingIds ? bulkRatingIds : {};\r\n    if (checked) {\r\n      newBulkRating.push({\r\n        ...data,\r\n        dataIndex: dataIndex,\r\n        user_rating: data.user_rating ?? undefined,\r\n        is_rated: false,\r\n      });\r\n      newBulkRatingIds[data.movie_id] = true;\r\n    } else if (!checked && newBulkRating.length > dataIndex) {\r\n      newBulkRating.splice(dataIndex, 1);\r\n      if (newBulkRatingIds[data.movie_id]) {\r\n        delete newBulkRatingIds[data.movie_id];\r\n      }\r\n    }\r\n    if (newBulkRating.length > 0) {\r\n      props.setEnableBulkRatingButton(true);\r\n    } else {\r\n      props.setEnableBulkRatingButton(false);\r\n      setBulkRating(undefined);\r\n      setBulkRatingIds({});\r\n      return;\r\n    }\r\n    setBulkRatingIds({ ...newBulkRatingIds });\r\n    setBulkRating(newBulkRating);\r\n  };\r\n  const handleBulkRating = (rating: number, index: number) => {\r\n    const newBulkRating = bulkRating;\r\n    if (newBulkRating.length > index) {\r\n      newBulkRating[index].user_rating = rating ?? null;\r\n      newBulkRating[index].is_rated = true;\r\n    }\r\n  };\r\n  const loadMoreData = (\r\n    isInitialLoad: boolean = false,\r\n    start: number = 0,\r\n    limit: number = 50\r\n  ) => {\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    HttpService.get(\r\n      authenticated ? \"movies/auth/all\" : \"movies/noauth/all\",\r\n      \"\",\r\n      {\r\n        start: start ?? 0,\r\n        limit: limit,\r\n        query: searchQuery ?? \"\",\r\n        order: \"DESC\",\r\n      },\r\n      true\r\n    )\r\n      .then((res: any) => {\r\n        if (isInitialLoad) {\r\n          setData([...res.data]);\r\n        } else {\r\n          setData([...data, ...res.data]);\r\n        }\r\n        setLoading(false);\r\n        settotalItems(res.count);\r\n      })\r\n      .catch((err: any) => {\r\n        setLoading(false);\r\n        notification[\"error\"]({\r\n          message: \"Something went wrong\",\r\n          description: \"Failed to retrieve movies list\",\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStart(() => 0);\r\n    setLimit(() => 50);\r\n    settotalItems(() => 0);\r\n    setEnd(limit);\r\n    setLoading(false);\r\n    loadMoreData(true, 0, 50);\r\n    debugger;\r\n    return () => {\r\n      ourRequest.cancel();\r\n    };\r\n  }, [searchQuery]);\r\n\r\n  useEffect(() => {}, [setBulkRatingIds]);\r\n\r\n  const handleRatingModal = (item: any, index: number) => {\r\n    setModalVisible(true);\r\n    setRatingModalData({\r\n      movie: item,\r\n      index: index,\r\n    });\r\n  };\r\n  const onSaveRating = (rating: number) => {\r\n    const { movie, index } = ratingModalData;\r\n    const { id } = movie;\r\n    HttpService.post(`ratings/movie/${id}`, {\r\n      user_rating: rating,\r\n      movie_id: id,\r\n    })\r\n      .then((res: any) => {\r\n        const newData = data;\r\n        if (newData.length > index) {\r\n          newData[index].user_rating = res.data;\r\n        }\r\n        setData(data);\r\n        setModalVisible(false);\r\n        setRatingModalData(null);\r\n        notification[\"success\"]({\r\n          message: \"Successfully rated the movie\",\r\n        });\r\n      })\r\n      .catch((err: any) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const onSaveBulkRating = () => {\r\n    if (!bulkRating) return;\r\n    const ratings = bulkRating;\r\n    HttpService.post(`ratings/bulk/movies`, {\r\n      ratings: ratings,\r\n    })\r\n      .then((res: any) => {\r\n        const newData = data;\r\n        const length = newData.length;\r\n        res.data?.forEach((item: any) => {\r\n          if (length > item.dataIndex) {\r\n            if (item.movie_id === newData[item.dataIndex].id) {\r\n              newData[item.dataIndex].user_rating = item;\r\n            } else {\r\n              // This is a hack to update the rating of the movie in the list in rare cases where the movie id is not matching\r\n              for (let i = 0; i < length; i++) {\r\n                if (newData[i].id === item.movie_id) {\r\n                  newData[i].user_rating = item;\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n\r\n        setData(data);\r\n        setModalVisible(false);\r\n        props.setEnableBulkRatingButton(false);\r\n        props.setModalVisible(false);\r\n        setBulkRating(undefined);\r\n        const ids = {};\r\n        setBulkRatingIds({ ...ids });\r\n        notification[\"success\"]({\r\n          message: \"Successfully rated the movies\",\r\n        });\r\n      })\r\n      .catch((err: any) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleOk = () => {\r\n    onSaveBulkRating();\r\n    setModalVisible(false);\r\n    setRatingModalData(null);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setModalVisible(false);\r\n    setRatingModalData(null);\r\n  };\r\n  const resetValues = () => {\r\n    setStart(0);\r\n    setLimit(50);\r\n    settotalItems(0);\r\n    setEnd(limit);\r\n    setLoading(false);\r\n    setData([]);\r\n  };\r\n  useEffect(() => {\r\n    if (props.isModalVisible) setModalVisible(true);\r\n  }, [props.isModalVisible]);\r\n  return (\r\n    <div>\r\n      <InfiniteScroll\r\n        dataLength={data?.length}\r\n        next={() => {\r\n            debugger;\r\n          setStart(end + 1);\r\n          setEnd(end + limit);\r\n          loadMoreData(false, end + 1, limit);\r\n        }}\r\n        hasMore={data.length < totalItems}\r\n        loader={<SpinWrapper size=\"large\" />}\r\n        endMessage={<Divider plain>It is all, nothing more 🤐</Divider>}\r\n        scrollableTarget=\"scrollableDiv\"\r\n      >\r\n        <List\r\n          key={data?.length}\r\n          grid={{ gutter: 32, xs: 1, sm: 1, md: 1, lg: 1, xl: 1 }}\r\n          style={{\r\n            width: \"70%\",\r\n            margin: \"0 auto\",\r\n            textAlign: \"center\",\r\n          }}\r\n          dataSource={data ? data : []}\r\n          renderItem={(item: any, index: number) => (\r\n            <List.Item\r\n              key={item.id}\r\n              style={{\r\n                margin: \"10px\",\r\n                padding: \"10px\",\r\n                border: \"1px solid #ccc\",\r\n                minHeight: \"100px\",\r\n                width: \"100%\",\r\n                textAlign: \"left\",\r\n              }}\r\n            >\r\n              <Row gutter={[16, 16]} align=\"middle\">\r\n                <Col span={2}>\r\n                  <div\r\n                    style={{ textAlign: \"right\" }}\r\n                    data-id={item.id}\r\n                    data-checked={\r\n                      bulkRatingIds ? bulkRatingIds[item.id] : false\r\n                    }\r\n                  >\r\n                    <Checkbox\r\n                      checked={\r\n                        bulkRatingIds && bulkRatingIds[item.id] ? true : false\r\n                      }\r\n                      onChange={(e) => {\r\n                        handleCheckBoxBulkRating(\r\n                          {\r\n                            title: item.title,\r\n                            movie_id: item.id,\r\n                            user_rating: item.user_rating?.user_rating,\r\n                            user_rating_id: item.user_rating?.id,\r\n                          },\r\n                          index,\r\n                          e.target.checked\r\n                        );\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </Col>\r\n                <Col span={4}>\r\n                  {/* <Avatar shape=\"square\" size={80}  /> */}\r\n                  <img\r\n                    width={80}\r\n                    height={80}\r\n                    loading=\"lazy\"\r\n                    src={item.poster}\r\n                  />\r\n                </Col>\r\n                <Col span={13}>\r\n                  <h4>\r\n                    {item.title}&nbsp;({item.release_year}),\r\n                    {item.crew?.map((crewItem: any) => (\r\n                      <span key={crewItem?.id}>{`${crewItem?.name}${\r\n                        crewItem?.role === \"director\" ? \"(dir)\" : \"\"\r\n                      }`}</span>\r\n                    ))}\r\n                  </h4>\r\n                  <p>\r\n                    {item.genres?.map((genreItem: any) => (\r\n                      <Tag color=\"red\" key={genreItem?.id}>\r\n                        {genreItem?.name}\r\n                      </Tag>\r\n                    ))}\r\n                    {/* <Tag color=\"volcano\">volcano</Tag>\r\n                  <Tag color=\"orange\">orange</Tag>\r\n                  <Tag color=\"gold\">gold</Tag> */}\r\n                  </p>\r\n                </Col>\r\n                <Col span={2}>\r\n                  <div>\r\n                    <StarTwoTone twoToneColor=\"#F0CA71\" /> &nbsp;\r\n                    {item?.average_rating}\r\n                  </div>\r\n                </Col>\r\n                <Col span={3}>\r\n                  <div>\r\n                    &nbsp;\r\n                    {!item?.user_rating && (\r\n                      <Tooltip\r\n                        title={\r\n                          !authenticated\r\n                            ? \"Please login to rate this movie\"\r\n                            : \"Click the text to rate this movie\"\r\n                        }\r\n                      >\r\n                        {\r\n                          <RatingWrapper\r\n                            onClick={() => {\r\n                              if (authenticated) {\r\n                                handleRatingModal(item, index);\r\n                              }\r\n                            }}\r\n                          >\r\n                            <StarTwoTone />\r\n                            Rate\r\n                          </RatingWrapper>\r\n                        }\r\n                      </Tooltip>\r\n                    )}\r\n                    {item?.user_rating && (\r\n                      <>\r\n                        <StarTwoTone />\r\n                        &nbsp;{item?.user_rating?.user_rating * 2}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </List.Item>\r\n          )}\r\n        />\r\n      </InfiniteScroll>\r\n      <Modal\r\n        title=\"Rate This Movies\"\r\n        visible={isModalVisible}\r\n        // footer={!props.enableBulkRatingButton && null}\r\n        closable\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        {!props.enableBulkRatingButton && (\r\n          <MovieRating\r\n            rating={ratingModalData?.movie?.user_rating?.user_rating ?? null}\r\n            movieTitle={ratingModalData?.movie?.title}\r\n            onSaveRating={onSaveRating}\r\n          />\r\n        )}\r\n        {props.enableBulkRatingButton &&\r\n          bulkRating?.map((item: any, ratingIndex: number) => (\r\n            <MovieRating\r\n              key={item.movie_id}\r\n              movieTitle={item.title}\r\n              rating={item.user_rating}\r\n              onSaveRating={(rating: number) => {\r\n                handleBulkRating(rating, ratingIndex);\r\n              }}\r\n            />\r\n          ))}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { Col, List, notification, Row, Tag } from \"antd\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { StarTwoTone } from \"@ant-design/icons\";\r\nimport HttpService from \"../services/http\";\r\nimport searchInputContext from \"../context/search\";\r\n\r\nexport default function UserRatedMovies() {\r\n  const [data, setData] = useState<any>([]);\r\n  const [loading, setLoading] = useState<any>(false);\r\n  const { searchQuery, setSearchQuery } = useContext(searchInputContext);\r\n\r\n  const loadData = () => {\r\n    if (loading) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    HttpService.get(\r\n      \"movies/auth/rated-list\",\r\n      \"\",\r\n      {\r\n        query: searchQuery ?? \"\",\r\n        order: \"DESC\",\r\n      },\r\n      true\r\n    )\r\n      .then((res: any) => {\r\n        setData([...res.data]);\r\n        setLoading(false);\r\n      })\r\n      .catch((err: any) => {\r\n        setLoading(false);\r\n        notification[\"error\"]({\r\n          message: \"Something went wrong\",\r\n          description: \"Failed to retrieve rated movies list\",\r\n        });\r\n      });\r\n  };\r\n  useEffect(() => {\r\n      loadData();\r\n      return () => {\r\n          setData([]);\r\n      }\r\n  }, [])\r\n  return (\r\n    <div>\r\n      <List\r\n        key={data?.length}\r\n        grid={{ gutter: 32, xs: 1, sm: 1, md: 1, lg: 1, xl: 1 }}\r\n        style={{\r\n          width: \"70%\",\r\n          margin: \"0 auto\",\r\n          textAlign: \"center\",\r\n        }}\r\n        dataSource={data ? data : []}\r\n        renderItem={(item: any, index: number) => (\r\n          <List.Item\r\n            key={item.id}\r\n            style={{\r\n              margin: \"10px\",\r\n              padding: \"10px\",\r\n              border: \"1px solid #ccc\",\r\n              minHeight: \"100px\",\r\n              width: \"100%\",\r\n              textAlign: \"left\",\r\n            }}\r\n          >\r\n            <Row gutter={[16, 16]} align=\"middle\">\r\n              <Col span={4}>\r\n                <img width={80} height={80} loading=\"lazy\" src={item.poster} />\r\n              </Col>\r\n              <Col span={13}>\r\n                <h4>\r\n                  {item.title}&nbsp;({item.release_year}),\r\n                  {item.crew?.map((crewItem: any) => (\r\n                    <span key={crewItem?.id}>{`${crewItem?.name}${\r\n                      crewItem?.role === \"director\" ? \"(dir)\" : \"\"\r\n                    }`}</span>\r\n                  ))}\r\n                </h4>\r\n                <p>\r\n                  {item.genres?.map((genreItem: any) => (\r\n                    <Tag color=\"red\" key={genreItem?.id}>\r\n                      {genreItem?.name}\r\n                    </Tag>\r\n                  ))}\r\n                </p>\r\n              </Col>\r\n              <Col span={2}>\r\n                <div>\r\n                  <StarTwoTone twoToneColor=\"#F0CA71\" /> &nbsp;\r\n                  {item?.average_rating}\r\n                </div>\r\n              </Col>\r\n              <Col span={3}>\r\n                <div>\r\n                  &nbsp;\r\n                  <StarTwoTone />\r\n                  &nbsp;{item?.user_rating?.user_rating * 2}\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  List,\r\n  message,\r\n  Avatar,\r\n  Skeleton,\r\n  Divider,\r\n  Col,\r\n  Row,\r\n  Checkbox,\r\n  Tag,\r\n  Typography,\r\n  notification,\r\n  Button,\r\n  Modal,\r\n  Tooltip,\r\n  Tabs,\r\n} from \"antd\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { StarTwoTone, StarFilled, StarOutlined } from \"@ant-design/icons\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport HttpService from \"../services/http\";\r\nimport MovieRating from \"../components/MovieRating\";\r\nimport authContext from \"../context/auth\";\r\nimport styled from \"styled-components\";\r\nimport MovieListPage from \"./movie-list\";\r\nimport UserRatedMovies from \"./user-rated-movies\";\r\n// import SearchInputContext from \"../context/search\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function HomePage() {\r\n  const { authenticated } = useContext(authContext);\r\n  const [enableBulkRatingButton, setEnableBulkRatingButton] = useState(false);\r\n  const [isModalVisible, setModalVisible] = useState(false);\r\n  const onBulkRating = () => {\r\n    debugger;\r\n    setModalVisible(true);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Tabs\r\n        id=\"scrollableDiv\"\r\n        style={{\r\n          overflow: \"auto\",\r\n          // background:\"inherit\"\r\n        }}\r\n        tabBarExtraContent={\r\n          <Button\r\n            disabled={!authenticated || !enableBulkRatingButton}\r\n            onClick={() => onBulkRating()}\r\n          >\r\n            Rate\r\n          </Button>\r\n        }\r\n      >\r\n        <TabPane tab=\"All Movies\" key=\"1\">\r\n         \r\n            <MovieListPage\r\n              setEnableBulkRatingButton={setEnableBulkRatingButton}\r\n              enableBulkRatingButton={enableBulkRatingButton}\r\n              setModalVisible={setModalVisible}\r\n              isModalVisible={isModalVisible}\r\n            />\r\n          \r\n        </TabPane>\r\n        <TabPane tab=\"My Rated Movies\" key=\"2\" disabled={!authenticated}>\r\n          <UserRatedMovies />\r\n        </TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n","import { Form, Input, Button, Card, notification, Divider } from \"antd\";\r\nimport { NotificationApi } from \"antd/lib/notification\";\r\nimport { useContext } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport styled from \"styled-components\";\r\nimport authContext from \"../context/auth\";\r\nimport HttpService from \"../services/http\";\r\n\r\nconst CardWrapper = styled(Card)`\r\n  width: 50%;\r\n  margin: 50px auto;\r\n`;\r\nconst Login = () => {\r\n  const history = useHistory();\r\n  const { setAuthenticated } = useContext(authContext);\r\n\r\n  const onFinish = (values: any) => {\r\n    console.log(\"Success:\", values);\r\n    debugger;\r\n    handleLogInMethod(values);\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  const handleLogInMethod = (data: any) => {\r\n    HttpService.post(\"auth/login\", data)\r\n      .then((data) => {\r\n        window.localStorage.setItem(\"token\", data.token);\r\n        window.localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n        notification[\"success\"]({\r\n          message: \"Successfully logged in\",\r\n        });\r\n        setAuthenticated(true);\r\n        history.push(\"/\");\r\n        // window.location.pathname = \"/list\";\r\n      })\r\n      .catch((err) => {\r\n        notification[\"error\"]({\r\n          message: \"Something went wrong\",\r\n          description: \"please ensure credentials\",\r\n        });\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <CardWrapper title=\"Welcome to Movie List App\" style={{textAlign:\"center\"}}>\r\n      <Form\r\n        style={{ textAlign: \"left\" }}\r\n        name=\"login\"\r\n        layout=\"vertical\"\r\n        wrapperCol={{ span: 24 }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Form.Item\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          rules={[{ required: true, message: \"Please input your email!\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: \"Please input your password!\" }]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n          <Button type=\"primary\" shape=\"round\" htmlType=\"submit\" block>\r\n            Log In\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <Divider>Continue without login</Divider>\r\n      <div>\r\n        <Button\r\n          shape=\"round\"\r\n          onClick={() => {\r\n            history.push(\"/list\");\r\n          }}\r\n        >\r\n          Skip\r\n        </Button>\r\n      </div>\r\n    </CardWrapper>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { Form, Input, Button, Card, notification, Divider } from \"antd\";\r\nimport { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport authContext from \"../context/auth\";\r\nimport HttpService from \"../services/http\";\r\n\r\nconst CardWrapper = styled(Card)`\r\n  width: 50%;\r\n  margin: 50px auto;\r\n  textalign: \"center\";\r\n`;\r\nconst SignUp = () => {\r\n  const { setAuthenticated } = useContext(authContext);\r\n  const history = useHistory();\r\n  const onFinish = (values: any) => {\r\n    console.log(\"Success:\", values);\r\n    debugger;\r\n    handleSignUpMethod(values);\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  const handleSignUpMethod = (data: any) => {\r\n    HttpService.post(\"auth/signup\", data)\r\n      .then((data) => {\r\n        console.log(data);\r\n        window.localStorage.setItem(\"token\", data.token);\r\n        window.localStorage.setItem(\"user\", JSON.stringify(data.user));\r\n        notification[\"success\"]({\r\n          message: \"Successfully logged in\",\r\n        });\r\n        setAuthenticated(true);\r\n\r\n        history.push(\"/\");\r\n        // window.location.pathname = \"/list\";\r\n      })\r\n      .catch((err) => {\r\n        notification[\"error\"]({\r\n          message: \"Something went wrong\",\r\n          description: \"please ensure input details\",\r\n        });\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <CardWrapper title=\"Welcome to Movie List App\" style={{textAlign:\"center\"}} >\r\n      <Form\r\n        name=\"signup\"\r\n        layout=\"vertical\"\r\n        wrapperCol={{ span: 24 }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Form.Item\r\n          label=\"Name\"\r\n          name=\"name\"\r\n          rules={[{ required: true, message: \"Please input your full name!\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Email\"\r\n          name=\"email\"\r\n          rules={[{ required: true, message: \"Please input your email!\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"password\"\r\n          rules={[{ required: true, message: \"Please input your password!\" }]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n\r\n        <Form.Item wrapperCol={{ offset: 8, span: 16 }}>\r\n          <Button type=\"primary\" shape=\"round\" htmlType=\"submit\" block>\r\n            Sign Up\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      <Divider>Continue without registering</Divider>\r\n      <div>\r\n        <Button\r\n          shape=\"round\"\r\n          onClick={() => {\r\n            history.push(\"/list\");\r\n          }}\r\n        >\r\n          Skip\r\n        </Button>\r\n      </div>\r\n    </CardWrapper>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","\r\nimport React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport HomePage from \"../pages/home\";\r\nimport Login from \"../pages/login\";\r\nimport SignUp from \"../pages/sign-up\";\r\n\r\nconst AppRoutes: React.FC = () => {\r\n  return (\r\n    <Switch>\r\n      {/* <Route path=\"/my-movies\" component={MyMovies} /> */}\r\n      \r\n      <Route path=\"/login\" component={Login} />\r\n      <Route path=\"/signup\" component={SignUp} />\r\n      <Route path=\"/list\" component={HomePage} />\r\n      <Redirect exact from=\"/\" to=\"/list\" />\r\n    </Switch>\r\n  );\r\n};\r\nexport default AppRoutes;\r\n","import React, { useEffect, useState } from \"react\";\nimport { Layout, Menu, Breadcrumb } from \"antd\";\nimport logo from \"./logo.svg\";\nimport AppHeader from \"./components/AppHeader\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport AppRoutes from \"./routes\";\nimport authContext from \"./context/auth\";\nimport searchInputContext from \"./context/search\";\nconst { Content, Footer } = Layout;\n\nconst MainContainer = styled(Content)`\n  padding: 0 50px;\n  margin: 64px auto;\n  height: CALC(100vh - 70px);\n  width: 80%;\n  background: #fff;\n  overflow-y: auto;\n  &::-webkit-scrollbar-track {\n    background-color: #e4e4e4;\n    border-radius: 100px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    border-radius: 100px;\n    border: 6px solid rgba(0, 0, 0, 0.18);\n    border-left: 0;\n    border-right: 0;\n    background-color: #8070d4;\n  }\n`;\n\nfunction App() {\n  const accessToken = window.localStorage.getItem(\"token\");\n  const [tokenValid, setTokenValid] = useState<string | null>(accessToken);\n  const tempUser = window.localStorage.getItem(\"user\");\n  const [user, setuser] = useState(tempUser ? JSON.parse(tempUser) : {});\n  const [authenticated, setAuthenticated] = useState<boolean>(\n    accessToken ? true : false\n  );\n  const [searchQuery, setSearchQuery] = useState<string>(\"\");\n  // useEffect(() => {\n  //   setTokenValid(window.localStorage.getItem(\"token\"));\n  //   const tempUser = window.localStorage.getItem(\"user\");\n  //   setuser(tempUser ? JSON.parse(tempUser) : null);\n  //   return () => {\n  //     setTokenValid(null);\n  //     setSearchQuery(\"\");\n  //   };\n  // }, [window.localStorage.getItem(\"token\")]);\n  return (\n    <BrowserRouter>\n      <authContext.Provider value={{ authenticated, setAuthenticated }}>\n        <searchInputContext.Provider value={{ searchQuery, setSearchQuery }}>\n          <Layout >\n            <AppHeader\n              user={user}\n              tokenValid={tokenValid}\n              // setSearchQuery={setSearchQuery}\n            />\n            <MainContainer id=\"scrollableDiv\">\n              <div>\n                <AppRoutes />\n              </div>\n            </MainContainer>\n          </Layout>\n        </searchInputContext.Provider>\n      </authContext.Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"antd/dist/antd.css\";\nimport \"./index.css\";\nimport \"./App.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}